
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kannibalox.github.io/pyrosimple/queue/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.12">
    
    
      
        <title>Introduction - pyrosimple</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CInconsolata:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Inconsolata"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="pyrosimple" class="md-header__button md-logo" aria-label="pyrosimple" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m505.2 324.8-47.73-68.78 47.75-68.81c7.359-10.62 8.797-24.12 3.844-36.06-4.969-11.94-15.52-20.44-28.22-22.72l-82.39-14.88-14.89-82.41c-2.281-12.72-10.76-23.25-22.69-28.22-11.97-4.936-25.42-3.498-36.12 3.844L256 54.49 187.2 6.709c-10.7-7.31-24.1-8.748-36.1-3.813-11.92 4.971-20.4 15.5-22.7 28.19l-14.89 82.44L31.15 128.4c-12.73 2.3-23.296 10.8-28.25 22.8-4.951 11.9-3.5 25.4 3.875 36l47.73 68.78-47.75 68.81c-7.359 10.62-8.795 24.12-3.844 36.06 4.969 11.94 15.52 20.44 28.22 22.72l82.39 14.88 14.89 82.41c2.297 12.72 10.78 23.25 22.7 28.22 11.95 4.906 25.44 3.531 36.09-3.844L256 457.5l68.83 47.78c6.47 4.42 13.97 6.72 21.47 6.72 4.906 0 9.859-.969 14.56-2.906 11.92-4.969 20.4-15.5 22.7-28.19l14.89-82.44 82.37-14.88c12.73-2.281 23.3-10.78 28.25-22.75 5.03-11.934 3.53-25.434-3.87-36.034zm-48.4 14.4-99.61 18-18 99.63L256 399.1l-83.2 57.7-18-99.63-99.61-18 57.71-84.07-57.67-82.3 99.61-18 18-99.63L256 112.9l83.15-57.75 18.02 99.66 99.61 18-57.68 82.29 57.7 84.1zM256 143.1c-61.85 0-111.1 50.14-111.1 111.1 0 61.85 50.15 111.1 111.1 111.1s111.1-50.14 111.1-111.1c0-60.1-49.3-111.1-111.1-111.1zm0 176c-35.28 0-63.99-28.71-63.99-63.99S220.7 192 256 192s63.99 28.71 63.99 63.1-28.69 64-63.99 64z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyrosimple
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent=""  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_3">
          
            <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kannibalox/pyrosimple" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../quickstart/" class="md-tabs__link">
      Quick Start
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../usage-rtxmlrpc/" class="md-tabs__link">
        User Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../changing-announce/" class="md-tabs__link">
        How-tos
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../configuration/" class="md-tabs__link">
        Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../rtorrent-config/" class="md-tabs__link">
        Advanced
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pyrosimple" class="md-nav__button md-logo" aria-label="pyrosimple" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m505.2 324.8-47.73-68.78 47.75-68.81c7.359-10.62 8.797-24.12 3.844-36.06-4.969-11.94-15.52-20.44-28.22-22.72l-82.39-14.88-14.89-82.41c-2.281-12.72-10.76-23.25-22.69-28.22-11.97-4.936-25.42-3.498-36.12 3.844L256 54.49 187.2 6.709c-10.7-7.31-24.1-8.748-36.1-3.813-11.92 4.971-20.4 15.5-22.7 28.19l-14.89 82.44L31.15 128.4c-12.73 2.3-23.296 10.8-28.25 22.8-4.951 11.9-3.5 25.4 3.875 36l47.73 68.78-47.75 68.81c-7.359 10.62-8.795 24.12-3.844 36.06 4.969 11.94 15.52 20.44 28.22 22.72l82.39 14.88 14.89 82.41c2.297 12.72 10.78 23.25 22.7 28.22 11.95 4.906 25.44 3.531 36.09-3.844L256 457.5l68.83 47.78c6.47 4.42 13.97 6.72 21.47 6.72 4.906 0 9.859-.969 14.56-2.906 11.92-4.969 20.4-15.5 22.7-28.19l14.89-82.44 82.37-14.88c12.73-2.281 23.3-10.78 28.25-22.75 5.03-11.934 3.53-25.434-3.87-36.034zm-48.4 14.4-99.61 18-18 99.63L256 399.1l-83.2 57.7-18-99.63-99.61-18 57.71-84.07-57.67-82.3 99.61-18 18-99.63L256 112.9l83.15-57.75 18.02 99.66 99.61 18-57.68 82.29 57.7 84.1zM256 143.1c-61.85 0-111.1 50.14-111.1 111.1 0 61.85 50.15 111.1 111.1 111.1s111.1-50.14 111.1-111.1c0-60.1-49.3-111.1-111.1-111.1zm0 176c-35.28 0-63.99-28.71-63.99-63.99S220.7 192 256 192s63.99 28.71 63.99 63.1-28.69 64-63.99 64z"/></svg>

    </a>
    pyrosimple
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kannibalox/pyrosimple" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage-rtxmlrpc/" class="md-nav__link">
        rtxmlrpc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage-rtcontrol/" class="md-nav__link">
        rtcontrol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage-pyrotorque/" class="md-nav__link">
        pyrotorque
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage-tor/" class="md-nav__link">
        mktor/lstor/chtor
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          How-tos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          How-tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changing-announce/" class="md-nav__link">
        Changing announce URLs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../conky/" class="md-nav__link">
        Integrate with Conky
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../maintenance-tasks/" class="md-nav__link">
        General maintenance tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pyrotorque-tutorial/" class="md-nav__link">
        Pyrotorque tutorial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pyrotorque-jobs/" class="md-nav__link">
        Torque Jobs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rtorrent-config/" class="md-nav__link">
        rTorrent Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/" class="md-nav__link">
        Experimental Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tips/" class="md-nav__link">
        Tips & Tricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrate/" class="md-nav__link">
        Migrating from pyrocore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../custom-code/" class="md-nav__link">
        Custom Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="introduction">Introduction</h1>
<p>The <code>pyrotorque</code> command is a daemon that handles background jobs. At
first, it was just a flexible torrent queue manager for starting items
one at a time (thus the name <code>pyro-tor-que</code>), but it can now manage any
job that does some background processing for rTorrent, including custom
ones that you can add yourself.</p>
<p>It runs in the background parallel to rTorrent and has its own scheduler
to run automation jobs similar to rTorrent's <code>schedule</code> command --- one
of the jobs does start stopped items in a controlled fashion, that is
the queue manager part.</p>
<p>Besides the queue manager, the most important job type is <code>TreeWatch</code>.
It reacts to file system events (via <code>inotify</code>) to load new metafiles on
the spot, if you add the necessary configuration and activate it. This
way you have no delays at all, and no polling of watch directories in
short intervals, most often with no tangible result and just wasted CPU
cycles. Also, you can place the metafiles in arbitrary folders and
sub-folders, with just one configuration entry for the root folder to
watch. The queue is able to start items loaded via <code>inotify</code>, i.e. both
jobs can work together.</p>
<p>If you want to know about the gory details of the machinery behind this,
read <code>torque-custom-jobs</code>{.interpreted-text role="ref"}.</p>
<h1 id="initial-setup">Initial Setup</h1>
<p>Before you start configuring the daemon, you have to install some
additional Python dependencies it needs to do its work, also depending
on what jobs you activate in your configuration. The following is how to
install the <em>full</em> set of dependencies:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>~/.local/pyroscope/bin/pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>~/.local/pyroscope/requirements-torque.txt
</code></pre></div>
<p>Watch out for any errors, since this installs several Python extensions
that <em>might</em> need some <code>*-dev</code> OS packages available that you don't
have on your machine.</p>
<p>The <code>pyrotorque</code> queue manager daemon relies on certain additions to
<code>rtorrent.rc</code>, these are included in the standard <code>pyrocore</code> includes
that you added when you followed the <code>setup</code>{.interpreted-text
role="doc"}. If for whatever reason you need to add these manually, the
file <code>~/.pyroscope/rtorrent.d/torque.rc.default</code> holds these settings.</p>
<p>The daemon itself is configured by an additional configuration file
<code>~/.pyroscope/torque.ini</code> containing the <code>[TORQUE]</code> section. Most
settings are already covered in <code>torque.ini.default</code>, including some
short explanation what each setting does. The next section shows how to
customize these defaults.</p>
<h1 id="configuration-torque-config">Configuration {#torque-config}</h1>
<h2 id="minimal-example">Minimal Example</h2>
<p>The following is a <strong>minimal</strong> <code>~/.pyroscope/torque.ini</code> <strong>configuration
example</strong>, only changing a few values from the defaults to demonstrate
key features:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># &quot;pyrotorque&quot; configuration file</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">#</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1"># For details, see https://pyrocore.readthedocs.io/en/latest/advanced.html#torque-config</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">#</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">[TORQUE]</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Queue manager</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="na">job.queue.active</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="na">job.queue.schedule</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s">second=*/5</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="na">job.queue.intermission</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s">60</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="na">job.queue.downloading_max</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s">3</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="na">job.queue.startable</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s">is_ignored=0 message= prio&gt;0</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">        </span><span class="k">[ prio&gt;2 OR [ NOT [ traits=audio kind_25=jpg,png,tif,bmp ] ] ]</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="na">job.queue.downloading</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">[ prio&gt;1 [ down&gt;3 OR started&lt;2i ] ]</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="c1"># Tree watch (works together with the queue)</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="na">job.treewatch.active</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="na">job.treewatch.load_mode</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">start</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="na">job.treewatch.queued</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="na">job.treewatch.path</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s">/var/torrent/watch</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="na">job.treewatch.cmd.nfo</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.nfo,f.priority.set=2</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="na">job.treewatch.cmd.jpg</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.jpg,f.priority.set=2</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="na">job.treewatch.cmd.png</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.png,f.priority.set=2</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="na">job.treewatch.cmd.tif</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.tif,f.priority.set=0</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="na">job.treewatch.cmd.target</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">{{</span><span class="c1"># set target path</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">    </span><span class="na">}}d.custom.set</span><span class="o">=</span><span class="s">targetdir,/var/torrent/done/{{label}}/{{relpath}}</span>
</code></pre></div>
<p>Having a minimal configuration with just your changes is recommended, so
you get new defaults in later releases automatically.</p>
<p>See the <a href="https://github.com/pyroscope/pyrocore/blob/master/src/pyrocore/data/config/torque.ini">default
configuration</a>
for <strong>more parameters and what they mean</strong>.</p>
<p>::: warning
::: title
Warning
:::</p>
<p>If the folder tree specified in the <code>path</code> setting overlaps with the
paths used in existing 'watch' schedules of <code>rtorrent.rc</code>, then please
either keep those paths apart, or disable those schedules (comment them
out), <em>before</em> activating tree watch.</p>
<p>Anything else will lead to confusing and inconsistent results.
:::</p>
<h2 id="queue-settings-explained">Queue Settings Explained</h2>
<p>In the above example for the <code>queue</code> job, <code>downloading_max</code> counts
started-but-incomplete items including those that ignore commands. Only
if there are fewer of these items in the client than that number, a new
item will be started. This is the queue's length and thus the most
important parameter.</p>
<p>The queue <em>never</em> stops any items, i.e. <code>downloading_max</code> is not
enforced and you can manually start more items than that if you want to.
That is also the reason items that should be under queue control must be
loaded in 'normal' mode, i.e. stopped.</p>
<p>Other queue parameters are the minimum number of items in
'downloading' state named <code>downloading_min</code>, which trumps
<code>start_at_once</code>, the maximum number of items to start in one run of the
job. Both default to <code>1</code>. Since the default schedule is <code>second=*/15</code>,
that means at most one item would be started every 15 seconds.</p>
<p>But that default is changed using the following two lines:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="na">job.queue.schedule</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s">second=*/5</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="na">job.queue.intermission</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s">60</span>
</code></pre></div>
<p>This makes the queue manager check more often whether there is something
startable, but prevents it from starting the next batch of items when
the last start was less than <code>intermission</code> seconds ago.</p>
<p>The <code>startable</code> condition (repeated below for reference) prevents
ignored items, ones having a non-empty message, and those with the
lowest priority from being started. Note that tree watch sets the
priority of items loaded in 'normal' mode to zero -- that <code>prio&gt;0</code>
condition then excludes them from being started automatically some time
later, until you press <code>+</code> to increase that priority. You can also delay
not-yet-started items using the <code>-</code> key until the item has a priority of
zero (a/k/a <code>off</code>).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="na">job.queue.startable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">is_ignored=0 message= prio&gt;0</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">        </span><span class="k">[ prio&gt;2 OR [ NOT [ traits=audio kind_25=jpg,png,tif,bmp ] ] ]</span>
</code></pre></div>
<p>This sample condition also adds the extra hurdle that audio downloads
that don't stay below a 25% threshold regarding contained images are
<strong>not</strong> started automatically. <em>Unless</em> you raise the priority to 3
(<code>high</code>) using the <code>+</code> key, then they're fair game for the queue. Go do
all that with a plain rTorrent watch dir, in one line of configuration.</p>
<p>The parameter <code>sort_fields</code> is used to determinate in what order
startable items are handled. By default, higher priority items are
started first, and age is used within each priority class.</p>
<p>Above, it was mentioned <code>downloading_max</code> counts started-but-incomplete
items. The exact definition of that classification can be changed using
the <code>downloading</code> condition. A given condition is <em>always</em> extended with
<code>is_active=1 is_complete=0</code>, i.e. the started-but-incomplete
requirement.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="na">job.queue.downloading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">[ prio&gt;1 [ down&gt;3 OR started&lt;2i ] ]</span>
</code></pre></div>
<p>In plain English, this example says we only count items that have a
normal or high priority, and transfer data or were started in the last 2
minutes. The priority check means you can 'hide' started items from the
queue by setting them to <code>low</code>, e.g. because they're awfully slow and
prevent your full bandwidth from being used.</p>
<p>The second part automatically ignores stalled items unless just started.
This prevents disk trashing when a big item is still creating its files
and thus has no data transfer -- it looks stalled, but we do not want
yet another item to be started and increasing disk I/O even more, so the
manager sees those idle but young items as occupying a slot in the
queue.</p>
<h2 id="tree-watch-details">Tree Watch Details</h2>
<p>The <code>treewatch</code> job is set to co-operate with the queue as previously
explained, and load items as ready to be started (i.e. in stopped state,
but with normal priority). Any <code>load_mode</code> that is not either <code>start</code> or
<code>started</code> is considered as equivalent to <code>load.normal</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="na">job.treewatch.active</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="na">job.treewatch.load_mode</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">start</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="na">job.treewatch.queued</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
</code></pre></div>
<p>The configuration settings for <code>load_mode</code> and <code>queued</code> can also be
changed on a case-by-case basis. For that, one of the 'flags' <code>load</code>,
<code>start</code>, or <code>queued</code> has to appear in the path of the loaded metafile --
either as a folder name, or else delimited by dots in the file name.
These examples should help with understanding how to use that:</p>
<div class="highlight"><pre><span></span><code>☛ load and start these, ignoring what &#39;load_mode&#39; says
…/tv/start/foo.torrent
…/movies/foo.start.torrent

☛ just load these, ignoring what &#39;load_mode&#39; says
…/tv/load/foo.torrent
…/movies/foo.load.torrent

☛ always queue these, using the configured &#39;load_mode&#39;
…/tv/queue/foo.torrent
…/movies/foo.queue.torrent
</code></pre></div>
<p>Should you have both <code>start</code> and <code>load</code> in a path, then <code>start</code> wins.</p>
<p><code>path</code> determines the root of the folder tree to watch for new metafiles
via registration with the <code>inotify</code> mechanism of Linux. That means they
are loaded milliseconds after they're written to disk, without any
excessive polling.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="na">job.treewatch.path</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s">/var/torrent/watch</span>
</code></pre></div>
<p>You can provide more that one tree to watch, by separating the root
folders with <code>:</code>.</p>
<p>The <code>cmd.«name»</code> settings can be used to provide additional load
commands, executed during loading the new item, <em>before</em> it is started
(in case it is started at all). This is equivalent to the commands you
can append to a rTorrent <code>load.*</code> command. They're added in the
alphabetic order of their names.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="na">job.treewatch.cmd.nfo</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.nfo,f.priority.set=2</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="na">job.treewatch.cmd.jpg</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.jpg,f.priority.set=2</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="na">job.treewatch.cmd.png</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.png,f.priority.set=2</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="na">job.treewatch.cmd.tif</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">f.multicall=*.tif,f.priority.set=0</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="na">job.treewatch.cmd.target</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">{{</span><span class="c1"># set target path</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="na">}}d.custom.set</span><span class="o">=</span><span class="s">targetdir,/var/torrent/done/{{label}}/{{relpath}}</span>
</code></pre></div>
<p>The above example shows how to set any NFO files and JPG/PNG images to
high priority, and prevent downloading any TIF images by default.</p>
<p>Commands can be templates, see <code>tree-watch</code>{.interpreted-text
role="ref"} for further details on the <code>target</code> command.</p>
<p>::: note
::: title
Note
:::</p>
<p>In case no files are loaded after you activated tree watch, you can set
<code>trace_inotify</code> to <code>True</code> to get detailed logs of all file system events
as they are received.</p>
<p>Also keep in mind that for now, if you add metafiles while the
<code>pyrotorque</code> daemon is not running, you have to <code>touch</code> them manually
after you have restarted it to load them.
:::</p>
<h2 id="testing-your-configuration">Testing Your Configuration</h2>
<p>After having completed your configuration, you're ready to <strong>test it,
by following these steps</strong>:</p>
<ol>
<li>Execute <code>rm ~/.pyroscope/run/pyrotorque</code> to <strong>prevent the watchdog
    from starting the manager</strong> in the background.</li>
<li><strong>Stop any running daemon</strong> process using <code>pyrotorque --stop</code>, just
    in case.</li>
<li>Run <code>pyrotorque --fg -v</code> in a terminal, this will <strong>start the job
    scheduler in the foreground</strong> with verbose logging directly to that
    terminal, exactly what you need to check out if your configuration
    does what you intended. It also helps you to understand what goes on
    \"under the hood\".</li>
<li>If you applied <strong>changes to your configuration</strong>, stop the running
    scheduler by pressing CTRL-C, then <strong>restart it</strong>. Wash, rinse,
    repeat.</li>
<li>Press CTRL-C for the last time and call <code>pyrotorque --status</code>, it
    should show that no daemon process is running.</li>
<li>Execute <code>touch ~/.pyroscope/run/pyrotorque</code> --- this does <strong>create
    the guard file again</strong>, which must always exist if you want
    <code>pyrotorque</code> to run in the background (otherwise you'll just get an
    error message on the console or in the log, if you try to launch
    it).</li>
<li><strong>Wait up to 300 seconds</strong>, and if your <em>rTorrent</em> configuration has
    the <code>pyro_watchdog</code> schedule as it should have,
    <code>pyrotorque --status</code> will show that a daemon process was
    automatically started by that <em>rTorrent</em> schedule.</li>
<li>Enjoy, and <strong>check</strong> <code>~/.pyroscope/log/torque.log</code> for feedback from
    the daemon process.</li>
</ol>
<p>If you want to restart the daemon running in the background immediately,
e.g. to <strong>reload</strong> <code>torque.ini</code> or after a software update, use
<code>pyrotorque --cron --restart</code>.</p>
<h1 id="built-in-jobs">Built-in Jobs</h1>
<p>The <code>QueueManager</code> is just one kind of job that can be run by
<code>pyrotorque</code>. It has an embedded scheduler that can run any number of
additional jobs, the following sections explain the built-in ones. Since
these jobs can be loaded from any available Python package, you can also
easily <code>write your own &lt;torque-custom-jobs&gt;</code>{.interpreted-text
role="ref"}.</p>
<p>Jobs and their configuration are added in the <code>[TORQUE]</code> section, by
providing at least the parameters <code>job.«NAME».handler</code> and
<code>job.«NAME».schedule</code>. Depending on the handler, additional parameters
can/must be provided (see below for a list of built-in handlers and what
they do).</p>
<p>Details on the <code>schedule</code> parameter can be found
<a href="https://apscheduler.readthedocs.io/en/3.x/modules/triggers/cron.html">here</a>.
Multiple fields must be separated by spaces, so if a field value
contains a space, it must be quoted, e.g. <code>hour=12 "day=3rd sun"</code>. The
<code>handler</code> parameter tells the system where to look for the job
implementation, see the handler descriptions below for the correct
values.</p>
<p><strong>QueueManager</strong></p>
<p><code>pyrocore.torrent.queue:QueueManager</code> manages queued downloads (i.e.
starts them in a controlled manner), it is described in detail
<code>further up on this page &lt;torque-config&gt;</code>{.interpreted-text role="ref"}.</p>
<p><strong>TreeWatch</strong> (beta, not feature-complete)</p>
<p><code>pyrocore.torrent.watch:TreeWatch</code> watches a folder tree, which can be
nested arbitrarily. Loading of new <code>.torrent</code> files is immediate (using
<code>libnotify</code>).</p>
<p><strong>TODO</strong> Each sub-directory can contain a <code>watch.ini</code> configuration file
for parameters like whether to start new items immediately, and for
overriding the completion path.</p>
<p>See the explanation of the example configuration above and
<code>tree-watch</code>{.interpreted-text role="ref"} for further details.</p>
<p><strong>EngineStats</strong></p>
<p><code>pyrocore.torrent.jobs:EngineStats</code> runs once per minute, checks the
connection to rTorrent, and logs some statistical information.</p>
<p>You can change it to run only hourly by adding this to the
configuration: <code>job.connstats.schedule      = hour=*</code></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "toc.integrate"], "search": "../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4b2c34cd.min.js"></script>
      
    
  </body>
</html>